<div class="modal-container">
  <div class="modal-header">
    <h2 class="modal-title">
      <mat-icon class="title-icon">person_add</mat-icon>
      A침adir Miembro al Equipo
    </h2>
    <button mat-icon-button (click)="onCancel()" class="close-button">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div class="modal-content">
    <form (ngSubmit)="onAddMember()" class="member-form">
      <div class="form-group">
        <input 
          type="text"
          [(ngModel)]="name"
          name="name"
          placeholder="Nombre completo"
          class="input-field"
          required>
        <mat-icon class="input-icon">person</mat-icon>
      </div>

      <div class="form-group">
        <input 
          type="email"
          [(ngModel)]="email"
          name="email"
          placeholder="Correo electr칩nico"
          class="input-field"
          required>
        <mat-icon class="input-icon">email</mat-icon>
      </div>

      <div class="form-group">
        <select 
          [(ngModel)]="role" 
          name="role" 
          class="input-field select-field"
          required>
          <option value="">Selecciona un rol</option>
          @for (roleOption of roles; track roleOption.value) {
            <option [value]="roleOption.value">
              {{ roleOption.label }}
            </option>
          }
        </select>
        <mat-icon class="input-icon">work</mat-icon>
      </div>

      @if (errorMessage()) {
        <div class="error-message">
          <mat-icon class="error-icon">error</mat-icon>
          <span>{{ errorMessage() }}</span>
        </div>
      }

      <div class="modal-actions">
        <button 
          mat-button 
          type="button"
          (click)="onCancel()"
          class="cancel-button">
          <mat-icon>close</mat-icon>
          Cancelar
        </button>
        <button 
          mat-raised-button 
          color="primary" 
          type="submit"
          [disabled]="isLoading()"
          class="add-button">
          @if (isLoading()) {
            <mat-icon class="spinning">refresh</mat-icon>
            A침adiendo...
          } @else {
            <mat-icon>person_add</mat-icon>
            A침adir Miembro
          }
        </button>
      </div>
    </form>
  </div>
</div>
